{% extends 'base.html' %}
{% block title%}Auth{% endblock %}
{% block content %}

<!-- Login / Signup Tabs -->
<section class="d-flex align-items-center justify-content-center" style="min-height:80vh;">
  <div class="card shadow p-4" style="max-width:400px; width:100%;">
    <ul class="nav nav-tabs mb-3" id="authTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button"
          role="tab">Login</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signup" type="button"
          role="tab">Signup</button>
      </li>
    </ul>

    <div class="tab-content" id="authTabContent">
      <!-- Login Form -->
     {% if messages %}
  {% for message in messages %}
    <div class="alert alert-success">{{ message }}</div>
  {% endfor %}
{% endif %}

<div class="tab-pane fade show active" id="login" role="tabpanel" 
     style="background-color: #2ac5ab; padding: 20px; border-radius: 10px;">
  <form id="loginForm" method="post" action="{% url 'auth' %}">
    {% csrf_token %}
    <input type="hidden" name="login" value="1"> <!-- Add this line -->

    <div class="mb-3">
      <label for="loginEmail" class="form-label">Email address</label>
      <input type="email" class="form-control" id="loginEmail" name="email" placeholder="Enter email" required>
    </div>

    <div class="mb-3">
      <label for="loginPassword" class="form-label">Password</label>
      <input type="password" class="form-control" id="loginPassword" name="password" placeholder="Enter password" required>
    </div>

    <button type="submit" class="btn btn-info w-100">Login</button>
  </form>
</div>


      <!-- Signup Form -->
      <div class="tab-pane fade" id="signup" role="tabpanel">
        
        <form id="signupForm" method="post" action="{% url 'auth' %}">
          {% csrf_token %}
          <input type="hidden" name="signup" value="1">
          <div class="mb-3">
            <label for="signupName" class="form-label">First Name</label>
            <input type="text" class="form-control" id="signupName" name="firstname" placeholder="Enter first name" required>
          </div>
          <div class="mb-3">
            <label for="signupName" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="signupName" name="lastname" placeholder="Enter last name" required>
          </div>
          <div class="mb-3">
            <label for="signupEmail" class="form-label">Contact number</label>
            <input type="number" class="form-control" id="signupEmail" name="number" placeholder="Enter Your Contact number" required>
          </div>
          <div class="mb-3">
            <label for="signupEmail" class="form-label">Email address</label>
            <input type="email" class="form-control" id="signupEmail" name="email" placeholder="Enter email" required>
          </div>
          <div class="mb-3">
            <label for="signupPassword" class="form-label">Password</label>
            <input type="password" class="form-control" id="signupPassword" name="password" placeholder="Enter password"
              required>
          </div>
          <button type="submit" class="btn btn-info w-100">Signup</button>
        </form>

      </div>
    </div>

  </div>
</section>
{% endblock %}